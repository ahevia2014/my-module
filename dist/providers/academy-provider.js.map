{"version":3,"file":"academy-provider.js","sourceRoot":"","sources":["../../src/providers/academy-provider.ts"],"names":[],"mappings":"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","sourcesContent":["//import { HttpClient } from '@angular/common/http';\r\nimport {  AlertController,LoadingController } from 'ionic-angular';\r\nimport {locations} from '../utils/locations';\r\nimport{ Injectable} from \"@angular/core\"\r\n\r\nimport {grifos} from '../utils/grifos';\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\n\r\n/*\r\n  Generated class for the AcademyProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n\r\n//var map;\r\nvar directionsService;\r\nvar polylines = [];\r\n\r\nvar markers = new Array();\r\nvar grifosArray = new Array();\r\nvar markers2 = new Array();\r\nvar radius = 500;\r\nvar gri=grifos;\r\n\r\nvar pm;\r\nvar fm;\r\n\r\n\r\nvar modelo;\r\nvar tiempo;\r\nvar distancia;\r\nvar costo;\r\nvar bencina;\r\nvar peajes;\r\nvar rutas = [];\r\nvar summary;\r\nvar infowindow;\r\nvar combustibles = new Array();\r\nvar currWindow:any;\r\nvar tole;\r\nvar cityCircle;\r\nvar drawingManager;\r\nvar polyOptions = {\r\n  strokeWeight: 0,\r\n  fillOpacity: 0.45,\r\n  editable: true,\r\n  draggable: true\r\n};\r\nvar selectedShape;\r\nvar colors = ['#1E90FF', '#FF1493', '#32CD32', '#FF8C00', '#4B0082'];\r\nvar selectedColor;\r\nvar colorButtons = {};\r\nvar combustible = [\r\n\r\n  [0, 'bencina', '93', 600],\r\n  [1, 'bencina', '95', 700],\r\n  [2, 'bencina', '97', 800],\r\n  [3, 'bencina', 'diesel', 500],\r\n  [4, 'gas', 'natural', 400]\r\n];\r\n\r\n\r\n\r\nfor (var i = 0; i < combustible.length; i++) {\r\n  var record = ({\r\n    id: combustible[i][0],\r\n    tipo: combustible[i][1],\r\n    subtipo: combustible[i][2],\r\n    precio: combustible[i][3]\r\n  })\r\n\r\n  combustibles.push(record);\r\n}\r\n\r\nvar tarifas = [\r\n  [1, 104, 8, 132019, 0, 0, 999988425925926, 1, 'T',],\r\n  [2, 105, 8, 132019, 0, 0, 804861111111111, 1, 'T',],\r\n  [3, 106, 8, 132019, 0, 805555555555555, 0, 916655092592593, 1, 'T',],\r\n  [4, 107, 8, 132019, 0, 916666666666667, 0, 999988425925926, 1, 'T',]\r\n];\r\nconsole.log(\"grifos=\", grifos);\r\nvar currTemplate=this;\r\n\r\n/*\r\nvar loading;\r\nvar geolocation;\r\n var loadingCtrl;\r\n  var alertCtrl;\r\n  */\r\n  @Injectable()\r\nexport class AcademyProvider {\r\n \r\n  \r\nconfig:string;\r\n\r\n  constructor(private geolocation:Geolocation,private loadingCtrl:LoadingController, private alertCtrl:AlertController) {\r\n    console.log('Hello AcademyProvider Provider');\r\n   \r\n\r\n   \r\n  }\r\n  \r\n   drawPolyline(path, color, google, map) {\r\n    var line = new google.maps.Polyline({\r\n      path: path.overview_path,\r\n      strokeColor: color,\r\n      strokeOpacity: 0.7,\r\n      strokeWeight: 3\r\n    });\r\n    line.setMap(map);\r\n    return line;\r\n  }\r\n  CenterControl(controlDiv, map,google) {\r\n\r\n    // Set CSS for the control border.\r\n    var controlUI = document.createElement('div');\r\n    controlUI.style.backgroundColor = '#fff';\r\n    controlUI.style.border = '2px solid #fff';\r\n    controlUI.style.borderRadius = '3px';\r\n    controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';\r\n    controlUI.style.cursor = 'pointer';\r\n    controlUI.style.marginBottom = '22px';\r\n    controlUI.style.textAlign = 'center';\r\n    controlUI.title = 'Click to recenter the map';\r\n    controlDiv.appendChild(controlUI);\r\n\r\n    // Set CSS for the control interior.\r\n    var controlText = document.createElement('div');\r\n    controlText.style.color = 'rgb(25,25,25)';\r\n    controlText.style.fontFamily = 'Roboto,Arial,sans-serif';\r\n    controlText.style.fontSize = '16px';\r\n    controlText.style.lineHeight = '38px';\r\n    controlText.style.paddingLeft = '5px';\r\n    controlText.style.paddingRight = '5px';\r\n    controlText.innerHTML = 'Center Map';\r\n    controlUI.appendChild(controlText);\r\n\r\n    // Setup the click event listeners: simply set the map to Chicago.\r\n    controlUI.addEventListener('click', function () {\r\n      console.log(\"centrar\");\r\n     // map.setCenter(chicago);\r\n      AcademyProvider.prototype.currentPos(google,map);\r\n    });\r\n\r\n  }\r\n  createCenter(map, google) {\r\n    var centerControlDiv = document.createElement('div');\r\n    var centerControl = this.CenterControl(centerControlDiv, map,google);\r\n\r\n    //   centerControlDiv.index = 1;\r\n    map.controls[google.maps.ControlPosition.RIGHT_CENTER].push(centerControlDiv);\r\n  }\r\n\r\n\r\n  clearSelection() {\r\n    if (selectedShape) {\r\n      if (selectedShape.type !== 'marker') {\r\n        selectedShape.setEditable(false);\r\n      }\r\n\r\n\r\n      selectedShape = null;\r\n    }\r\n  }\r\n\r\n  public setSelection(shape) {\r\n    if (shape.type !== 'marker') {\r\n      AcademyProvider.prototype.clearSelection();\r\n      shape.setEditable(true);\r\n      AcademyProvider.prototype.selectColor(shape.get('fillColor') || shape.get('strokeColor'));\r\n    }\r\n\r\n    selectedShape = shape;\r\n  }\r\n\r\n  deleteSelectedShape() {\r\n    if (selectedShape) {\r\n      selectedShape.setMap(null);\r\n    }\r\n  }\r\n\r\n  selectColor(color) {\r\n    selectedColor = color;\r\n    for (var i = 0; i < colors.length; ++i) {\r\n      var currColor = colors[i];\r\n      colorButtons[currColor].style.border = currColor == color ? '2px solid #789' : '2px solid #fff';\r\n    }\r\n\r\n    // Retrieves the current options from the drawing manager and replaces the\r\n    // stroke or fill color as appropriate.\r\n    var polylineOptions = drawingManager.get('polylineOptions');\r\n    polylineOptions.strokeColor = color;\r\n    drawingManager.set('polylineOptions', polylineOptions);\r\n\r\n    var rectangleOptions = drawingManager.get('rectangleOptions');\r\n    rectangleOptions.fillColor = color;\r\n    drawingManager.set('rectangleOptions', rectangleOptions);\r\n\r\n    var circleOptions = drawingManager.get('circleOptions');\r\n    circleOptions.fillColor = color;\r\n    drawingManager.set('circleOptions', circleOptions);\r\n\r\n    var polygonOptions = drawingManager.get('polygonOptions');\r\n    polygonOptions.fillColor = color;\r\n    drawingManager.set('polygonOptions', polygonOptions);\r\n  }\r\n\r\n  setSelectedShapeColor(color, google) {\r\n    if (selectedShape) {\r\n      if (selectedShape.type == google.maps.drawing.OverlayType.POLYLINE) {\r\n        selectedShape.set('strokeColor', color);\r\n      } else {\r\n        selectedShape.set('fillColor', color);\r\n      }\r\n    }\r\n  }\r\n\r\n  makeColorButton(color, google) {\r\n    var button = document.createElement('span');\r\n    button.className = 'color-button';\r\n    button.style.backgroundColor = color;\r\n    google.maps.event.addDomListener(button, 'click', function () {\r\n       AcademyProvider.prototype.selectColor(color);\r\n       AcademyProvider.prototype.setSelectedShapeColor(color,google);\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  buildColorPalette(google) {\r\n    var colorPalette = document.getElementById('color-palette');\r\n    for (var i = 0; i < colors.length; ++i) {\r\n      var currColor = colors[i];\r\n      var colorButton = this.makeColorButton(currColor, google);\r\n      colorPalette.appendChild(colorButton);\r\n      colorButtons[currColor] = colorButton;\r\n    }\r\n     AcademyProvider.prototype.selectColor(colors[0]);\r\n  }\r\n\r\n\r\n  createDrawingTool(map, google) {\r\n    drawingManager = new google.maps.drawing.DrawingManager({\r\n      drawingMode: google.maps.drawing.OverlayType.MARKER,\r\n      drawingControl: true,\r\n      drawingControlOptions: {\r\n        position: google.maps.ControlPosition.TOP_CENTER,\r\n        drawingModes: ['marker', 'circle', 'polygon', 'polyline', 'rectangle']\r\n      },\r\n      markerOptions: {\r\n\r\n        icon: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',\r\n\r\n        editable: true,\r\n        draggable: true\r\n\r\n\r\n\r\n      },\r\n\r\n      polylineOptions: {\r\n        editable: true,\r\n        draggable: true\r\n      },\r\n      polygonOptions: polyOptions,\r\n      rectangleOptions: polyOptions,\r\n      circleOptions: polyOptions\r\n    });\r\n    drawingManager.setMap(map);\r\n\r\n    google.maps.event.addListener(drawingManager, 'overlaycomplete', function (e) {\r\n      var newShape = e.overlay;\r\n\r\n      newShape.type = e.type;\r\n      console.log(\"e.type=\", e.type);\r\n\r\n\r\n      if (e.type !== google.maps.drawing.OverlayType.MARKER) {\r\n        console.log(\"bounds shape=\", newShape.getBounds().toUrlValue());\r\n        // Switch back to non-drawing mode after drawing a shape.\r\n        drawingManager.setDrawingMode(null);\r\n\r\n        // Add an event listener that selects the newly-drawn shape when the user\r\n        // mouses down on it.\r\n        google.maps.event.addListener(newShape, 'click', function (e) {\r\n          if (e.vertex !== undefined) {\r\n            if (newShape.type === google.maps.drawing.OverlayType.POLYGON) {\r\n              var path = newShape.getPaths().getAt(e.path);\r\n              path.removeAt(e.vertex);\r\n              if (path.length < 3) {\r\n                newShape.setMap(null);\r\n              }\r\n            }\r\n            if (newShape.type === google.maps.drawing.OverlayType.POLYLINE) {\r\n              var path = newShape.getPath();\r\n              path.removeAt(e.vertex);\r\n              if (path.length < 2) {\r\n                newShape.setMap(null);\r\n              }\r\n            }\r\n          }\r\n          AcademyProvider.prototype.setSelection(newShape);\r\n        });\r\n        AcademyProvider.prototype.clearSelection();\r\n      }\r\n      else {\r\n        if (e.type == google.maps.drawing.OverlayType.MARKER) {\r\n          google.maps.event.addListener(newShape, 'position_changed', function (f) {\r\n\r\n            // 3 seconds after the center of the map has changed, pan back to the\r\n            // marker.\r\n            console.log(\"e.type=\", e.type);\r\n            console.log(\"e.evento=\", f);\r\n            console.log(\"position_changed=\", newShape.getPosition());\r\n             AcademyProvider.prototype.setSelection(newShape);\r\n          });\r\n          google.maps.event.addListener(newShape, 'click', function (e) {\r\n             AcademyProvider.prototype.setSelection(newShape);\r\n\r\n          });\r\n          //  setSelection(newShape);\r\n        }\r\n        else {\r\n          google.maps.event.addListener(newShape, 'click', function (e) {\r\n             AcademyProvider.prototype.setSelection(newShape);\r\n\r\n          });\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n\r\n    google.maps.Polyline.prototype.getBounds = function(startBounds) {\r\n      if(startBounds) {\r\n          var bounds = startBounds;\r\n      }\r\n      else {\r\n          var bounds = new google.maps.LatLngBounds();\r\n      }\r\n\r\n      this.getPath().forEach(function(item, index) {\r\n          bounds.extend(new google.maps.LatLng(item.lat(), item.lng()));\r\n      });\r\n      return bounds;\r\n  };\r\n\r\n    // Clear the current selection when the drawing mode is changed, or when the\r\n    // map is clicked.\r\n    google.maps.event.addListener(drawingManager, 'drawingmode_changed', AcademyProvider.prototype.clearSelection);\r\n    google.maps.event.addListener(map, 'click', AcademyProvider.prototype.clearSelection);\r\n    google.maps.event.addDomListener(document.getElementById('delete-button'), 'click', AcademyProvider.prototype.deleteSelectedShape);\r\n    AcademyProvider.prototype.buildColorPalette(google);\r\n\r\n  }\r\n\r\n  calcRoute(start, end, google, map,showPeajes,showGrifos) {\r\n    //     var curPosition = new google.maps.LatLng(-33.93077156,-70.71536088); //peaje angostura\r\n    //   var curPosition2 = new google.maps.LatLng(-33.66331584,-70.66916767); //peaje rio maipo\r\n    //   console.log(\"end=\",end);\r\n    console.log(\"sg0=\",start)\r\n\r\n    directionsService = new google.maps.DirectionsService();\r\n\r\n    var request = {\r\n      origin: start,\r\n      destination: end,\r\n      provideRouteAlternatives: true,\r\n      unitSystem: google.maps.UnitSystem.METRIC,\r\n      travelMode: google.maps.TravelMode['DRIVING']\r\n    };\r\n    directionsService.route(request, function (response, status) {\r\n\r\n\r\n      // clear former polylines\r\n      for (var j in polylines) {\r\n        polylines[j].setMap(null);\r\n      }\r\n      polylines = [];\r\n      if (status == google.maps.DirectionsStatus.OK) {\r\n         AcademyProvider.prototype.clearMarkers();\r\n          if(cityCircle){\r\n                cityCircle.setMap(null);\r\n            }\r\n            \r\n        var inicio = new google.maps.LatLng(response.routes[0].legs[0].start_location.lat(), response.routes[0].legs[0].start_location.lng());\r\n        var final = new google.maps.LatLng(response.routes[0].legs[0].end_location.lat(), response.routes[0].legs[0].end_location.lng());\r\n        console.log(\"inicio=\", inicio);\r\n        console.log(\"final=\", final);\r\n        var dis = google.maps.geometry.spherical.computeDistanceBetween(inicio, final);\r\n        console.log(\"computeDistanceBetween=\", dis);\r\n        var heading = google.maps.geometry.spherical.computeHeading(inicio, final);\r\n        console.log(\"heading=\", heading);\r\n        var inicio = new google.maps.LatLng(response.routes[0].legs[0].start_location.lat(), response.routes[0].legs[0].start_location.lng());\r\n        var final = new google.maps.LatLng(response.routes[0].legs[0].end_location.lat(), response.routes[0].legs[0].end_location.lng());\r\n        //  addMarker2(inicio,\"Origen\");\r\n        //addMarker2(final,\"Destino\");\r\n\r\n        console.log(\"sg1=\",showGrifos)\r\n\r\n        if(showGrifos){\r\n          console.log(\"sg2=\",showGrifos)\r\n          var centro= new google.maps.LatLng(response.routes[0].legs[0].end_location.lat(),response.routes[0].legs[0].end_location.lng());\r\n  \r\n       cityCircle = new google.maps.Circle({\r\n      strokeColor: '#FF0000',\r\n      strokeOpacity: 0.8,\r\n      strokeWeight: 2,\r\n      fillColor: '#FF0000',\r\n      fillOpacity: 0.35,\r\n      map: map,\r\n      center: centro,\r\n      radius:  1000\r\n  });\r\n          AcademyProvider.prototype.buscarGrifos(centro,google,map);\r\n          cityCircle.addListener('mouseover', function () {\r\n          this.getMap().getDiv().setAttribute('title', this.get('title'));\r\n      });\r\n\r\n      cityCircle.addListener('mouseout', function () {\r\n          this.getMap().getDiv().removeAttribute('title');\r\n      });\r\n       } \r\n\r\n        var bounds = new google.maps.LatLngBounds();\r\n        // draw the lines in reverse orde, so the first one is on top (z-index)\r\n        for (var i = response.routes.length - 1; i >= 0; i--) {\r\n          rutas.push(response.routes[i]);\r\n          console.log(\"response.routes=\", response.routes);\r\n          //  console.log(\"decode polyline=\",  google.maps.geometry.encoding.decodePath(response.routes[i].overview_polyline))\r\n\r\n\r\n\r\n          // let's make the first suggestion highlighted;\r\n          if (i == 0) {\r\n            var color = '#0000ff';\r\n\r\n          }\r\n\r\n          else if (i == 1) {\r\n            var color = '#999988';\r\n          }\r\n          else {\r\n            var color = '#dd1616';\r\n          }\r\n\r\n\r\n          var line = AcademyProvider.prototype.drawPolyline(response.routes[i], color, google, map)\r\n          polylines.push(line);\r\n          bounds = line.getBounds(bounds);\r\n\r\n          google.maps.event.addListener(line, 'click', function (event) {\r\n            console.log(\"latlng=\", event.latLng.lat(), event.latLng.lng());\r\n            // detect which route was clicked on\r\n            //      console.log(\"infowindow=\",infowindow);\r\n            //    infoWindow.open(map,line);\r\n            //infowindow.open(null);\r\n            //    infowindow.open(map);\r\n            var index = polylines.indexOf(this);\r\n            console.log(\"index=\", index);\r\n             AcademyProvider.prototype.highlightRoute(index, google, map);\r\n          });\r\n\r\n          if (showPeajes) {\r\n            for (var x = 0; x < markers.length; x++) {\r\n              var curPosition = new google.maps.LatLng(markers[x].position.lat(), markers[x].position.lng()); //peaje\r\n              //    var curPosition2 = new google.maps.LatLng(grifosArray[x].position.lat(), grifosArray[x].position.lng()); //grifo\r\n              //  console.log(\"grifo=\",curPosition2);\r\n\r\n              if (google.maps.geometry.poly.isLocationOnEdge(curPosition, new google.maps.Polyline({ path: response.routes[i].overview_path }), 0.0005)) {\r\n                //     console.log(\"peaje rio maipo esta en ruta: \" );\r\n                /*    var marker = new google.maps.Marker({\r\n                        position: new google.maps.LatLng(locations[x][2], locations[x][3]),\r\n                      map: map,\r\n                    //icon: icons[iconCounter]\r\n                         title:locations[x][0]+\" \"+locations[x][1]\r\n                    });*/\r\n                markers[x].setMap(map);\r\n                var valor = tarifas.findIndex(id => id == markers[x].label, 1)\r\n\r\n         //       var test = _.filter(markers, function (o) { return o; });\r\n           //     console.log(\"test=\", test);\r\n\r\n                //   console.log(\"valor=\",tarifas.findIndex(markers[x].label,1));\r\n             //   console.log(\"valor2=\", valor);\r\n\r\n              }\r\n              else {\r\n                //        console.log(\"peaje rio maipo NO esta en ruta: \" ); //no dibujo peaje e la ruta\r\n              }\r\n\r\n            }\r\n          }\r\n\r\n\r\n          //  console.log(\"resultPath+\"+i,resultPath);\r\n          //console.log(\"curPosition content : \" + JSON.stringify(curPosition));\r\n        }\r\n        map.fitBounds(bounds);\r\n      }\r\n    });\r\n  }\r\n  \r\n\r\n   \r\n\r\n\r\n  highlightRoute(index, google, map) {\r\n    console.log(\"poly=\", polylines[index]);\r\n    console.log(\"rutas2=\", rutas)\r\n    for (var j in polylines) {\r\n      if (j == index) {\r\n        var color = '#0000ff';\r\n        summary = rutas[j].summary;\r\n        tiempo = rutas[j].legs[0].duration.value;\r\n        distancia = rutas[j].legs[0].distance.value;\r\n        let pos = rutas[j].overview_path.length / 2;\r\n\r\n        costo = (distancia / 1000 / modelo) * combustibles[0].precio;\r\n        let tipo_com = combustibles[0].tipo + \" \" + combustibles[0].subtipo;\r\n\r\n\r\n        var contentString = '<div id=\"content\">' +\r\n          '<div id=\"Resumen\">' +\r\n          '</div>' +\r\n          '<h1 id=\"firstHeading\" class=\"firstHeading\">IRoute</h1>' +\r\n          '<div id=\"bodyContent\">' +\r\n          '<p><b>Ruta</b> ' + summary + ' .</p>' +\r\n          '<p><b>Tiempo</b> ' + Math.round((tiempo / 60)) + ' mins  .</p>' +\r\n          '<p><b>Distancia</b> ' + Math.round(distancia.toFixed() / 1000) + 'kms .</p>' +\r\n          '<p><b>Combustible</b> ' + tipo_com + ' .</p>' +\r\n          '<p><b>Precio Combustible</b> $' + Math.round(combustibles[0].precio) + ' .</p>' +\r\n\r\n          '<p><b>Costo</b> $ ' + Math.round(costo) + ' .</p>' +\r\n          '</div>' +\r\n          '</div>';\r\n        console.log(\"contentString=\", contentString);\r\n        if (currWindow) {\r\n          currWindow.close();\r\n        }\r\n        infowindow = new google.maps.InfoWindow();\r\n        infowindow.setContent(contentString);\r\n        infowindow.setPosition(rutas[j].overview_path[pos | 0]);\r\n        currWindow = infowindow;\r\n\r\n        infowindow.open(map);\r\n      }\r\n      else {\r\n        var color = '#999999';\r\n      }\r\n      polylines[j].setOptions({ strokeColor: color });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  calcDistance(p1, p2, google) {\r\n\r\n    return (google.maps.geometry.spherical.computeDistanceBetween(p1, p2) / 1).toFixed(3);\r\n  }\r\n\r\n  currentPos(google, map) {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function (position) {\r\n        var pos = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        };\r\n        infowindow = new google.maps.InfoWindow();\r\n        infowindow.setPosition(pos);\r\n        infowindow.setContent('mi ubicación');\r\n        infowindow.open(map);\r\n        map.setCenter(pos);\r\n        map.setZoom(13);\r\n\r\n        var icon = {\r\n          url: \"http://maps.google.com/mapfiles/kml/shapes/target.png\", // url\r\n          scaledSize: new google.maps.Size(50, 50), // scaled size\r\n          origin: new google.maps.Point(0, 0), // origin\r\n          anchor: new google.maps.Point(0, 0) // anchor\r\n        };\r\n\r\n\r\n        let myPos = new google.maps.Marker({\r\n          position: new google.maps.LatLng(position.coords.latitude, position.coords.longitude),\r\n          map: map,\r\n          //icon: icons[iconCounter]\r\n          icon: icon,\r\n          title: \"Yo\"\r\n        });\r\n      }, function () {\r\n        AcademyProvider.prototype.handleLocationError(true, infowindow, map.getCenter(),map);\r\n      });\r\n    } else {\r\n      // Browser doesn't support Geolocation\r\n      AcademyProvider.prototype.handleLocationError(false, infowindow, map.getCenter(), map);\r\n    }\r\n  }\r\n\r\n  handleLocationError(browserHasGeolocation, infoWindow, pos, map) {\r\n    infoWindow.setPosition(pos);\r\n    infoWindow.setContent(browserHasGeolocation ?\r\n      'Error: The Geolocation service failed.' :\r\n      'Error: Your browser doesn\\'t support geolocation.');\r\n    infoWindow.open(map);\r\n  }\r\n  cargarLocations(google){\r\n    console.log(\"cargarLocations\");\r\n    for (var i = 0; i < locations.length; i++) {  \r\n      var marker = new google.maps.Marker({\r\n        position: new google.maps.LatLng(locations[i][2], locations[i][3]),\r\n       // map: map,\r\n        //icon: icons[iconCounter]\r\n        title:locations[i][0]+\" \"+locations[i][1] +\" valor: \"+locations[i][4],\r\n        label:String(locations[i][4])\r\n      });\r\n\r\n      markers.push(marker);\r\n    }\r\n  }\r\n\r\n  cargarGrifos(google){\r\n    console.log(\"cargar grifos\");\r\n    \r\n    var image = {\r\n      url: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',\r\n      // This marker is 20 pixels wide by 32 pixels high.\r\n      size: new google.maps.Size(20, 32),\r\n      // The origin for this image is (0, 0).\r\n      origin: new google.maps.Point(0, 0),\r\n      // The anchor for this image is the base of the flagpole at (0, 32).\r\n      anchor: new google.maps.Point(0, 32)\r\n    };\r\n    // Shapes define the clickable region of the icon. The type defines an HTML\r\n    // <area> element 'poly' which traces out a polygon as a series of X,Y points.\r\n    // The final coordinate closes the poly by connecting to the first coordinate.\r\n    var shape = {\r\n      coords: [1, 1, 1, 20, 18, 20, 18, 1],\r\n      type: 'poly'\r\n    };\r\n    for (var i = 0; i < grifos.length; i++) {  \r\n      var marker = new google.maps.Marker({\r\n        position: new google.maps.LatLng(grifos[i][2], grifos[i][3]),\r\n      //  map: map,\r\n        //icon: icons[iconCounter]\r\n        icon: image,\r\n        shape: shape,\r\n        title:grifos[i][0]+\" \"+grifos[i][1]\r\n      });\r\n\r\n      grifosArray.push(marker);\r\n    }\r\n  }\r\n\r\n   buscarGrifos(pos,google,map){\r\n    var distancia;\r\n      var featurePos;\r\n    //  console.log(\"pos=\",pos.lat(),pos.lng());\r\n  \r\n    //for (var i = 0, grifos; grifos = grifos[i]; i++) {\r\n          for (var i = 0; i < grifosArray.length; i++) {\r\n             // console.log(\"grifosArray[\"+i+\"]\",grifosArray[i])\r\n      featurePos = {\r\n        lat: grifosArray[i].position.lat(),\r\n        lng: grifosArray[i].position.lng()\r\n      };\r\n  //console.log(\"featurePos=\",featurePos);\r\n      //\tpm = new google.maps.LatLng(pos.lat, pos.lng);\r\n      pm = pos;\r\n      fm = new google.maps.LatLng(featurePos.lat, featurePos.lng);\r\n      \r\n      distancia = AcademyProvider.prototype.calcDistance(pm,fm,google);\r\n      if (distancia <= radius){\r\n           // \taddMarker(grifosArray[i]);\r\n           grifosArray[i].setMap(map);\r\n          }\r\n        }\r\n    }\r\n\r\n     setMapOnAll(map) {\r\n      for (var i = 0; i < markers.length; i++) {\r\n        markers[i].setMap(map);\r\n      }\r\n      for (var i = 0; i < grifosArray.length; i++) {\r\n        grifosArray[i].setMap(map);\r\n      }\r\n\r\n      for (var i = 0; i < markers2.length; i++) {\r\n        markers2[i].setMap(map);\r\n      }\r\n    }\r\n\r\n     clearMarkers() {\r\n      AcademyProvider.prototype.setMapOnAll(null);\r\n    }\r\n\r\n    // Shows any markers currently in the array.\r\n     showMarkers(map) {\r\n      AcademyProvider.prototype.setMapOnAll(map);\r\n    }\r\n\r\n    // Deletes all markers in the array by removing references to them.\r\n     deleteMarkers() {\r\n      AcademyProvider.prototype.clearMarkers();\r\n      markers = [];\r\n      grifosArray=[];\r\n      markers2 = [];\r\n\r\n    }\r\n    getCurrentPosition(google,map) {\r\n\r\n    \r\n                let loading = this.loadingCtrl.create({\r\n                content: \"Buscando Ubicación ...\"\r\n                 });\r\n                 loading.present().then(() => {\r\n                let locationOptions = {\r\n                  timeout: 20000,\r\n                  enableHighAccuracy: true,\r\n                  maximumAge: Infinity\r\n                };\r\n                this.geolocation.getCurrentPosition(locationOptions).then(\r\n                  position => {\r\n                                 loading.dismiss()\r\n                                 .then(() => {\r\n                                            //showToast(\"Donde estoy!\",5000);\r\n  \r\n                                           let lat=position.coords.latitude;\r\n                                           let lng=position.coords.longitude;\r\n  \r\n                                            let myPos = new google.maps.LatLng(\r\n                                              position.coords.latitude,\r\n                                              position.coords.longitude\r\n                                            );\r\n  \r\n                                            let options = {\r\n                                              center: myPos,\r\n                                              zoom: 15\r\n                                            };\r\n                                            console.log(\"lat=\",lat);\r\n                                            console.log(\"lng=\",lng);\r\n                                            console.log(\"posicion=\",myPos);\r\n                                            map.setOptions(options);\r\n                                            var marker = new google.maps.Marker({\r\n                                              position: new google.maps.LatLng(lat, lng),\r\n                                            //  map: map,\r\n                                              //icon: icons[iconCounter]\r\n                                            //  icon: image,\r\n                                              //shape: shape,\r\n                                              title:\"Mi Pos\"\r\n                                            });\r\n                                           \r\n                                });\r\n                            },\r\n                  error => {\r\n                           console.log(error);\r\n                  }\r\n  \r\n                );\r\n              });\r\n          \r\n    }\r\n    /*\r\n    setConfig(params){\r\n      console.log(\"params=\",params);\r\n      AcademyProvider.prototype.config=params;\r\n\r\n    }\r\n    getConfig(){\r\n      return AcademyProvider.prototype.config;\r\n    }*/\r\n\r\n}\r\n"]}